var data = {
  "Dates": [
    {
      "Datum": "2025-04-14",
      "Tag": "Montag",
      "Mahlzeiten": [
        {
          "Name": "Frühstück",
          "Gericht": "Haferflocken mit Apfel und Zimt",
          "Zutaten": [
            [
              "50 g",
              "Haferflocken"
            ],
            [
              "200 ml",
              "Milch oder pflanzliche Alternative"
            ],
            [
              "1",
              "Apfel"
            ],
            [
              "1 TL",
              "Zimt"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Milch in einem Topf erhitzen."
            ],
            [
              "2",
              "Haferflocken hinzufügen und unter Rühren aufkochen lassen."
            ],
            [
              "3",
              "Apfel in kleine Stücke schneiden und zusammen mit Zimt hinzufügen."
            ],
            [
              "4",
              "5 Minuten köcheln lassen, dann servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 350,
            "Protein": 10,
            "Kohlenhydrate": 50,
            "Fett": 8
          }
        },
        {
          "Name": "Mittagessen",
          "Gericht": "Hähnchenbrust mit Reis und Brokkoli",
          "Zutaten": [
            [
              "150 g",
              "Hähnchenbrust"
            ],
            [
              "100 g",
              "Reis"
            ],
            [
              "200 g",
              "Brokkoli"
            ],
            [
              "1 EL",
              "Olivenöl"
            ],
            [
              "Gewürze",
              "nach Geschmack"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Reis nach Packungsanweisung kochen."
            ],
            [
              "2",
              "Brokkoli in Röschen schneiden und dämpfen."
            ],
            [
              "3",
              "Hähnchenbrust mit Öl einreiben und würzen."
            ],
            [
              "4",
              "In einer Pfanne von beiden Seiten goldbraun braten."
            ],
            [
              "5",
              "Mit Reis und Brokkoli servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 550,
            "Protein": 40,
            "Kohlenhydrate": 45,
            "Fett": 20
          }
        },
        {
          "Name": "Abendessen",
          "Gericht": "Gemüsesuppe mit Vollkornbrot",
          "Zutaten": [
            [
              "1",
              "Karotte"
            ],
            [
              "1",
              "Kartoffel"
            ],
            [
              "100 g",
              "Lauch"
            ],
            [
              "500 ml",
              "Gemüsebrühe"
            ],
            [
              "1",
              "Scheibe Vollkornbrot"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Gemüse schälen und klein schneiden."
            ],
            [
              "2",
              "In Gemüsebrühe 15 Minuten köcheln lassen."
            ],
            [
              "3",
              "Nach Geschmack würzen und mit Brot servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 300,
            "Protein": 8,
            "Kohlenhydrate": 40,
            "Fett": 6
          }
        }
      ]
    },
    {
      "Datum": "2025-04-15",
      "Tag": "Dienstag",
      "Mahlzeiten": [
        {
          "Name": "Frühstück",
          "Gericht": "Vollkornbrot mit Avocado und Ei",
          "Zutaten": [
            [
              "2 Scheiben",
              "Vollkornbrot"
            ],
            [
              "1",
              "Avocado"
            ],
            [
              "2",
              "Eier"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Eier nach Wunsch hart oder weich kochen."
            ],
            [
              "2",
              "Avocado halbieren, entkernen und Fruchtfleisch auf das Brot streichen."
            ],
            [
              "3",
              "Eier schälen, in Scheiben schneiden und auf die Avocado legen."
            ],
            [
              "4",
              "Nach Geschmack würzen und servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 420,
            "Protein": 18,
            "Kohlenhydrate": 30,
            "Fett": 25
          }
        },
        {
          "Name": "Mittagessen",
          "Gericht": "Linseneintopf mit Karotten und Sellerie",
          "Zutaten": [
            [
              "150 g",
              "Linsen"
            ],
            [
              "2",
              "Karotten"
            ],
            [
              "1 Stange",
              "Sellerie"
            ],
            [
              "500 ml",
              "Gemüsebrühe"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Gemüse schälen und klein schneiden."
            ],
            [
              "2",
              "Linsen mit Gemüse in Gemüsebrühe 25 Minuten köcheln lassen."
            ],
            [
              "3",
              "Nach Geschmack mit Salz, Pfeffer und Kräutern würzen."
            ],
            [
              "4",
              "Heiß servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 480,
            "Protein": 25,
            "Kohlenhydrate": 50,
            "Fett": 10
          }
        },
        {
          "Name": "Abendessen",
          "Gericht": "Rührei mit Spinat und Tomaten",
          "Zutaten": [
            [
              "3",
              "Eier"
            ],
            [
              "100 g",
              "Spinat"
            ],
            [
              "2",
              "Tomaten"
            ],
            [
              "1 TL",
              "Öl"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Spinat waschen, Tomaten würfeln."
            ],
            [
              "2",
              "Eier in einer Schüssel verquirlen."
            ],
            [
              "3",
              "Öl in Pfanne erhitzen, Gemüse kurz anbraten."
            ],
            [
              "4",
              "Eier dazugeben und unter Rühren stocken lassen."
            ]
          ],
          "Nährwerte": {
            "Kcal": 320,
            "Protein": 20,
            "Kohlenhydrate": 10,
            "Fett": 22
          }
        }
      ]
    },
    {
      "Datum": "2025-04-16",
      "Tag": "Mittwoch",
      "Mahlzeiten": [
        {
          "Name": "Frühstück",
          "Gericht": "Haferflocken mit Apfel und Zimt",
          "Zutaten": [
            [
              "50 g",
              "Haferflocken"
            ],
            [
              "200 ml",
              "Milch oder pflanzliche Alternative"
            ],
            [
              "1",
              "Apfel"
            ],
            [
              "1 TL",
              "Zimt"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Milch in einem Topf erhitzen."
            ],
            [
              "2",
              "Haferflocken hinzufügen und unter Rühren aufkochen lassen."
            ],
            [
              "3",
              "Apfel in kleine Stücke schneiden und zusammen mit Zimt hinzufügen."
            ],
            [
              "4",
              "5 Minuten köcheln lassen, dann servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 350,
            "Protein": 10,
            "Kohlenhydrate": 50,
            "Fett": 8
          }
        },
        {
          "Name": "Mittagessen",
          "Gericht": "Hähnchenbrust mit Reis und Brokkoli",
          "Zutaten": [
            [
              "150 g",
              "Hähnchenbrust"
            ],
            [
              "100 g",
              "Reis"
            ],
            [
              "200 g",
              "Brokkoli"
            ],
            [
              "1 EL",
              "Olivenöl"
            ],
            [
              "Gewürze",
              "nach Geschmack"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Reis nach Packungsanweisung kochen."
            ],
            [
              "2",
              "Brokkoli in Röschen schneiden und dämpfen."
            ],
            [
              "3",
              "Hähnchenbrust mit Öl einreiben und würzen."
            ],
            [
              "4",
              "In einer Pfanne von beiden Seiten goldbraun braten."
            ],
            [
              "5",
              "Mit Reis und Brokkoli servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 550,
            "Protein": 40,
            "Kohlenhydrate": 45,
            "Fett": 20
          }
        },
        {
          "Name": "Abendessen",
          "Gericht": "Gemüsesuppe mit Vollkornbrot",
          "Zutaten": [
            [
              "1",
              "Karotte"
            ],
            [
              "1",
              "Kartoffel"
            ],
            [
              "100 g",
              "Lauch"
            ],
            [
              "500 ml",
              "Gemüsebrühe"
            ],
            [
              "1",
              "Scheibe Vollkornbrot"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Gemüse schälen und klein schneiden."
            ],
            [
              "2",
              "In Gemüsebrühe 15 Minuten köcheln lassen."
            ],
            [
              "3",
              "Nach Geschmack würzen und mit Brot servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 300,
            "Protein": 8,
            "Kohlenhydrate": 40,
            "Fett": 6
          }
        }
      ]
    },
    {
      "Datum": "2025-04-17",
      "Tag": "Donnerstag",
      "Mahlzeiten": [
        {
          "Name": "Frühstück",
          "Gericht": "Vollkornbrot mit Avocado und Ei",
          "Zutaten": [
            [
              "2 Scheiben",
              "Vollkornbrot"
            ],
            [
              "1",
              "Avocado"
            ],
            [
              "2",
              "Eier"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Eier nach Wunsch hart oder weich kochen."
            ],
            [
              "2",
              "Avocado halbieren, entkernen und Fruchtfleisch auf das Brot streichen."
            ],
            [
              "3",
              "Eier schälen, in Scheiben schneiden und auf die Avocado legen."
            ],
            [
              "4",
              "Nach Geschmack würzen und servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 420,
            "Protein": 18,
            "Kohlenhydrate": 30,
            "Fett": 25
          }
        },
        {
          "Name": "Mittagessen",
          "Gericht": "Linseneintopf mit Karotten und Sellerie",
          "Zutaten": [
            [
              "150 g",
              "Linsen"
            ],
            [
              "2",
              "Karotten"
            ],
            [
              "1 Stange",
              "Sellerie"
            ],
            [
              "500 ml",
              "Gemüsebrühe"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Gemüse schälen und klein schneiden."
            ],
            [
              "2",
              "Linsen mit Gemüse in Gemüsebrühe 25 Minuten köcheln lassen."
            ],
            [
              "3",
              "Nach Geschmack mit Salz, Pfeffer und Kräutern würzen."
            ],
            [
              "4",
              "Heiß servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 480,
            "Protein": 25,
            "Kohlenhydrate": 50,
            "Fett": 10
          }
        },
        {
          "Name": "Abendessen",
          "Gericht": "Rührei mit Spinat und Tomaten",
          "Zutaten": [
            [
              "3",
              "Eier"
            ],
            [
              "100 g",
              "Spinat"
            ],
            [
              "2",
              "Tomaten"
            ],
            [
              "1 TL",
              "Öl"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Spinat waschen, Tomaten würfeln."
            ],
            [
              "2",
              "Eier in einer Schüssel verquirlen."
            ],
            [
              "3",
              "Öl in Pfanne erhitzen, Gemüse kurz anbraten."
            ],
            [
              "4",
              "Eier dazugeben und unter Rühren stocken lassen."
            ]
          ],
          "Nährwerte": {
            "Kcal": 320,
            "Protein": 20,
            "Kohlenhydrate": 10,
            "Fett": 22
          }
        }
      ]
    },
    {
      "Datum": "2025-04-18",
      "Tag": "Freitag",
      "Mahlzeiten": [
        {
          "Name": "Frühstück",
          "Gericht": "Haferflocken mit Apfel und Zimt",
          "Zutaten": [
            [
              "50 g",
              "Haferflocken"
            ],
            [
              "200 ml",
              "Milch oder pflanzliche Alternative"
            ],
            [
              "1",
              "Apfel"
            ],
            [
              "1 TL",
              "Zimt"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Milch in einem Topf erhitzen."
            ],
            [
              "2",
              "Haferflocken hinzufügen und unter Rühren aufkochen lassen."
            ],
            [
              "3",
              "Apfel in kleine Stücke schneiden und zusammen mit Zimt hinzufügen."
            ],
            [
              "4",
              "5 Minuten köcheln lassen, dann servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 350,
            "Protein": 10,
            "Kohlenhydrate": 50,
            "Fett": 8
          }
        },
        {
          "Name": "Mittagessen",
          "Gericht": "Hähnchenbrust mit Reis und Brokkoli",
          "Zutaten": [
            [
              "150 g",
              "Hähnchenbrust"
            ],
            [
              "100 g",
              "Reis"
            ],
            [
              "200 g",
              "Brokkoli"
            ],
            [
              "1 EL",
              "Olivenöl"
            ],
            [
              "Gewürze",
              "nach Geschmack"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Reis nach Packungsanweisung kochen."
            ],
            [
              "2",
              "Brokkoli in Röschen schneiden und dämpfen."
            ],
            [
              "3",
              "Hähnchenbrust mit Öl einreiben und würzen."
            ],
            [
              "4",
              "In einer Pfanne von beiden Seiten goldbraun braten."
            ],
            [
              "5",
              "Mit Reis und Brokkoli servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 550,
            "Protein": 40,
            "Kohlenhydrate": 45,
            "Fett": 20
          }
        },
        {
          "Name": "Abendessen",
          "Gericht": "Gemüsesuppe mit Vollkornbrot",
          "Zutaten": [
            [
              "1",
              "Karotte"
            ],
            [
              "1",
              "Kartoffel"
            ],
            [
              "100 g",
              "Lauch"
            ],
            [
              "500 ml",
              "Gemüsebrühe"
            ],
            [
              "1",
              "Scheibe Vollkornbrot"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Gemüse schälen und klein schneiden."
            ],
            [
              "2",
              "In Gemüsebrühe 15 Minuten köcheln lassen."
            ],
            [
              "3",
              "Nach Geschmack würzen und mit Brot servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 300,
            "Protein": 8,
            "Kohlenhydrate": 40,
            "Fett": 6
          }
        }
      ]
    },
    {
      "Datum": "2025-04-19",
      "Tag": "Samstag",
      "Mahlzeiten": [
        {
          "Name": "Frühstück",
          "Gericht": "Vollkornbrot mit Avocado und Ei",
          "Zutaten": [
            [
              "2 Scheiben",
              "Vollkornbrot"
            ],
            [
              "1",
              "Avocado"
            ],
            [
              "2",
              "Eier"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Eier nach Wunsch hart oder weich kochen."
            ],
            [
              "2",
              "Avocado halbieren, entkernen und Fruchtfleisch auf das Brot streichen."
            ],
            [
              "3",
              "Eier schälen, in Scheiben schneiden und auf die Avocado legen."
            ],
            [
              "4",
              "Nach Geschmack würzen und servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 420,
            "Protein": 18,
            "Kohlenhydrate": 30,
            "Fett": 25
          }
        },
        {
          "Name": "Mittagessen",
          "Gericht": "Linseneintopf mit Karotten und Sellerie",
          "Zutaten": [
            [
              "150 g",
              "Linsen"
            ],
            [
              "2",
              "Karotten"
            ],
            [
              "1 Stange",
              "Sellerie"
            ],
            [
              "500 ml",
              "Gemüsebrühe"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Gemüse schälen und klein schneiden."
            ],
            [
              "2",
              "Linsen mit Gemüse in Gemüsebrühe 25 Minuten köcheln lassen."
            ],
            [
              "3",
              "Nach Geschmack mit Salz, Pfeffer und Kräutern würzen."
            ],
            [
              "4",
              "Heiß servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 480,
            "Protein": 25,
            "Kohlenhydrate": 50,
            "Fett": 10
          }
        },
        {
          "Name": "Abendessen",
          "Gericht": "Rührei mit Spinat und Tomaten",
          "Zutaten": [
            [
              "3",
              "Eier"
            ],
            [
              "100 g",
              "Spinat"
            ],
            [
              "2",
              "Tomaten"
            ],
            [
              "1 TL",
              "Öl"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Spinat waschen, Tomaten würfeln."
            ],
            [
              "2",
              "Eier in einer Schüssel verquirlen."
            ],
            [
              "3",
              "Öl in Pfanne erhitzen, Gemüse kurz anbraten."
            ],
            [
              "4",
              "Eier dazugeben und unter Rühren stocken lassen."
            ]
          ],
          "Nährwerte": {
            "Kcal": 320,
            "Protein": 20,
            "Kohlenhydrate": 10,
            "Fett": 22
          }
        }
      ]
    },
    {
      "Datum": "2025-04-20",
      "Tag": "Sonntag",
      "Mahlzeiten": [
        {
          "Name": "Frühstück",
          "Gericht": "Haferflocken mit Apfel und Zimt",
          "Zutaten": [
            [
              "50 g",
              "Haferflocken"
            ],
            [
              "200 ml",
              "Milch oder pflanzliche Alternative"
            ],
            [
              "1",
              "Apfel"
            ],
            [
              "1 TL",
              "Zimt"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Milch in einem Topf erhitzen."
            ],
            [
              "2",
              "Haferflocken hinzufügen und unter Rühren aufkochen lassen."
            ],
            [
              "3",
              "Apfel in kleine Stücke schneiden und zusammen mit Zimt hinzufügen."
            ],
            [
              "4",
              "5 Minuten köcheln lassen, dann servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 350,
            "Protein": 10,
            "Kohlenhydrate": 50,
            "Fett": 8
          }
        },
        {
          "Name": "Mittagessen",
          "Gericht": "Hähnchenbrust mit Reis und Brokkoli",
          "Zutaten": [
            [
              "150 g",
              "Hähnchenbrust"
            ],
            [
              "100 g",
              "Reis"
            ],
            [
              "200 g",
              "Brokkoli"
            ],
            [
              "1 EL",
              "Olivenöl"
            ],
            [
              "Gewürze",
              "nach Geschmack"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Reis nach Packungsanweisung kochen."
            ],
            [
              "2",
              "Brokkoli in Röschen schneiden und dämpfen."
            ],
            [
              "3",
              "Hähnchenbrust mit Öl einreiben und würzen."
            ],
            [
              "4",
              "In einer Pfanne von beiden Seiten goldbraun braten."
            ],
            [
              "5",
              "Mit Reis und Brokkoli servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 550,
            "Protein": 40,
            "Kohlenhydrate": 45,
            "Fett": 20
          }
        },
        {
          "Name": "Abendessen",
          "Gericht": "Gemüsesuppe mit Vollkornbrot",
          "Zutaten": [
            [
              "1",
              "Karotte"
            ],
            [
              "1",
              "Kartoffel"
            ],
            [
              "100 g",
              "Lauch"
            ],
            [
              "500 ml",
              "Gemüsebrühe"
            ],
            [
              "1",
              "Scheibe Vollkornbrot"
            ]
          ],
          "Zubereitung": [
            [
              "1",
              "Gemüse schälen und klein schneiden."
            ],
            [
              "2",
              "In Gemüsebrühe 15 Minuten köcheln lassen."
            ],
            [
              "3",
              "Nach Geschmack würzen und mit Brot servieren."
            ]
          ],
          "Nährwerte": {
            "Kcal": 300,
            "Protein": 8,
            "Kohlenhydrate": 40,
            "Fett": 6
          }
        }
      ]
    }
  ]
}

let currentDayOfWeek = 1;
displayMeal(data.Dates[currentDayOfWeek], 2);

//Function for the JSON inputfield and changing data
function openForm(){
  let jsonString = prompt("Enter new JSON data:");
  
  let jsonObject = JSON.parse(jsonString);
  data = jsonObject;
  displayMeal(data.Dates[0]);
}

function displayMeal(meal, timeOfDay){

//Header
document.getElementById("weekday").innerHTML = meal.Tag;
document.getElementById("meal-dateofDay").innerHTML = meal.Datum;

//Time of day
document.getElementById("meal-timeOfDay").innerHTML = meal.Mahlzeiten[timeOfDay].Name;

//Recipe
document.getElementById("meal-recipe-name").innerHTML = meal.Mahlzeiten[timeOfDay].Gericht;

//Ingredients aka zutaten
let ingredients = meal.Mahlzeiten[timeOfDay].Zutaten;
let ingredientsHtml = document.getElementById("meal-ingredients");
ingredientsHtml.innerHTML = "Zutaten: </br>";
ingredientsHtml.innerHTML += "<ul>";

//Loop over all the ingredients, and display them in a list-style fashion onto the webpage
for (let i = 0; i < ingredients.length; i++){
  let currentIngredient = ingredients[i];

  ingredientsHtml.innerHTML += "<li>" + currentIngredient[0] + " " + currentIngredient[1] + "</li>";
}

ingredientsHtml.innerHTML += "</ul> </br></br>"

//Preperations (also loop)

let preperation = meal.Mahlzeiten[timeOfDay].Zubereitung;
let preperationsHtml = document.getElementById("meal-preperations");

preperationsHtml.innerHTML = "Zubereitung: </br>";
preperationsHtml.innerHTML += "<ol>";

for (let i = 0; i < preperation.length; i++){
  let currentStep = preperation [i];
  preperationsHtml.innerHTML += '<li type="1">' + currentStep[1] + "</li>";
}
preperationsHtml.innerHTML += "</ol>";
}

//Sidebar
function openfunction(){
  document.getElementById("sidenav").style.width="225px";
  document.getElementById("sidenav").style.transition="width 1s";
}

function closefunction(){
  document.getElementById("sidenav").style.width="0px";
}

function selectDay(day){
  try{
    currentDayOfWeek = day;
    displayMeal(data.Dates[day], 2);
  }
  catch(ex){

  }  

  for(let i=0; i<7; i++){
    if(i == day){
      let element = document.getElementById("container-" + day);
      element.style.display="block";
    }
    else{
      document.getElementById("container-" + i).style.display="none";
    }
  }
}

function selectMeal(meal){
  displayMeal(data.Dates[currentDayOfWeek], meal)
}